BasicGame no_players=2
    SpriteSet
        floor > Immovable hidden=True img=oryx/floor3
        door > Door color=GREEN img=newset/lock1

        key > Resource img=oryx/key2 limit=1 shrinkfactor=0.7

        moving >
            avatar > MovingAvatar
                pet > img=oryx/dragon1
                player > img=oryx/princess1 singleton=True
            enemy > RandomNPC img=oryx/freak3 speed=0.4

        freezed_avatar > NullAvatar img=oryx/queen1 singleton=True
        freezed_avatar_t > NullAvatar img=oryx/queen1 singleton=True

        wall > Immovable img=oryx/wall3 autotiling=True
        enemyPoint > SpawnPoint stype=enemy hidden=True invisible=True prob=0.01

    InteractionSet
        key player > collectResource

        door player > killIfOtherHasMore resource=key limit=1 scoreChange=10,0
        enemy pet > killSprite scoreChange=0,0
        player door > changeResource resource=key value=-1
        moving wall door > stepBack pixelPerfect=True


        #player enemy > killAll stype=freezed_avatar
        #player enemy > addTimer timer=10 ftype=transformToAll stype=freezed_avatar stypeTo=player
        #player enemy > addTimer timer=10 ftype=transformToSingleton stype=freezed_avatar stype_other=player
        player enemy > transformToSingleton stype=player stype_other=freezed_avatar

        #freezed_avatar enemy > killAll stype=player

    TerminationSet
        SpriteCounter stype=door  limit=0 win=True,True
        Timeout limit=1500 win=False,False

    LevelMapping
        d > door floor
        k > key floor
        A > player floor
        B > pet floor
        e > enemyPoint floor
        . > floor